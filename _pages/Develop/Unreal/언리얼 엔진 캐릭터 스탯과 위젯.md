---
title: "[Unreal] 언리얼 엔진 캐릭터 스탯과 위젯"
date: "2024-7-4"
thumbnail: "/assets/img/unreal.jpg"
---

# [Unreal] 언리얼 엔진 캐릭터 스탯과 위젯

- 언리얼 게임 콘텐츠 구조

| 게임 |  기믹  | 플레이어 |  폰  | 데이터 | 인공지능 |
| :--: | :----: | :------: | :--: | :----: | :------: |
| 월드 | 트리거 |   입력   | 이동 |  에셋  |  길찾기  |
| 모드 |  스폰  |  카메라  | 모션 | 테이블 |    BT    |
| 상태 |  물리  |   HUD    | 액션 |  설정  |          |
|      |        |   상태   | 위젯 |  저장  |          |

## 캐릭터 스탯과 위젯

- 액터에 부착할 수 있는 컴포넌트 중 트랜스폼이 없는 컴포넌트
- 액터의 기능을 확장할 때 컴포넌트로 분리해 모듈화할 수 있음
- 스탯 데이터를 담당하는 컴포넌트와 UI 위젯을 담당하는 컴포넌트로 분리
- 액터는 두 컴포넌트가 서로 통신하도록 중개하는 역할로 지정

### 언리얼 델리게이트를 활용한 발행 구독 모델

- 푸시(Push)형태의 알림(Notification)을 구현하는데 적합한 디자인 패턴
- 스탯이 변경되면 델리게이트에 연결된 컴포넌트에 알림을 보내 데이터 갱신
- 스탯 컴포넌트와 UI컴포넌트 사이의 느슨한 결합의 생성



## 위젯 컴포넌트와 위젯

- 위젯 컴포넌트는 액터 위에 UI 위젯을 띄우는 컴포넌트
- 3차원 모드와 2차원 모드를 지원함
- 위젯 컴포넌트는 컨테이너 역할만 할 뿐, 둘은 서로 독립적으로 작동함



## 위젯 컴포넌트의 초기화 과정

- 발행 구독 모델의 구현을 위해 위젯 컴포넌트의 초기화 단계를 파악할 필요가 있음.
- UI 관련 컴포넌트는 액터의 BeginPlay 이후에 호출되고 있음.
- 생성시 InitWidget 함수와 NativeConstruct 함수를 호출
- 차후에 변경될 가능성도 염두에 두어야 함.